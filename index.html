<!doctype html>
<html lang="az">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GeoSolver</title>
  <meta name="description" content="Web/Mobile GIS, GeoAI, GeoServer & ArcGIS Enterprise." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <!-- Hero şəkli öncədən yüklə -->
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/Baku_map3.png">
  <!-- logo1 öncədən yüklə -->
  <link rel="preload" as="image" href="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/logo1.png">

  <style>
    :root{
      --ink:#0f172a; --muted:#475569; --line:rgba(2,8,23,.08);
      --brand:#2563eb; --bg:#ffffff;
      --titleA:#6ea8ff; --titleB:#6366f1;
      --max:1200px;
      --g1:8px; --g2:12px; --g3:16px; --g4:24px; --g5:32px; --g6:48px; --g7:64px;
      --card-r:16px; --shadow:0 12px 30px rgba(2,8,23,.06);
      --headerH:72px;
      --heroLeft: clamp(24px, 6vw, 120px);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--max);margin:0 auto;padding:0 var(--g3)}

    /* NAVBAR */
    header{position:sticky;top:0;z-index:100;background:#fffffff2;backdrop-filter:blur(10px);border-bottom:1px solid var(--line)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:var(--g3);padding:12px 0;height:var(--headerH)}
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand img.logo1-img{height:136px;width:auto;display:block;border-radius:8px}

    nav ul{list-style:none;display:flex;gap:var(--g3);margin:0;padding:0}
    nav a{
      padding:10px 14px;border-radius:10px;font-weight:800;letter-spacing:.2px;
      color:#2563eb;position:relative;transition:color .15s ease, background .15s ease;
    }
    nav a::after{
      content:"";position:absolute;left:12px;right:12px;bottom:6px;height:2px;background:#2563eb;border-radius:2px;transform:scaleX(0);transform-origin:left;transition:transform .18s ease
    }
    nav a:hover{background:rgba(37,99,235,.08); color:#1e40af}
    nav a:hover::after{transform:scaleX(1)}
    nav a.active{color:#1e40af; background:rgba(37,99,235,.10)}
    nav a.active::after{transform:scaleX(1)}

    .lang{display:flex;gap:6px;align-items:center}
    .lang button{cursor:pointer;background:#fff;border:1px solid #c7d2fe;padding:6px 10px;border-radius:8px;font-weight:700;color:#1d4ed8}
    .lang button.active{background:#1d4ed8;color:#fff;border-color:#1d4ed8}
    .lang button:focus{outline:2px solid #93c5fd}

    /* HERO — yalnız şəkil */
    .hero-visual{
      position:relative; min-height:calc(100vh - var(--headerH));
      display:flex; align-items:center;
      background-image:url('https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/Baku_map3.png');
      background-repeat:no-repeat; background-size:cover; background-position:center center;
      background-color:transparent;
    }
    .hero-visual .inner{
      width:100%; color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:flex-start;
      max-width:700px; text-align:left; margin-left:var(--heroLeft); margin-right:var(--g3)
    }
    .hero-title{font-size:clamp(36px,6vw,64px); line-height:1.05; margin:10px 0 8px; font-weight:800; text-shadow:0 2px 12px rgba(0,0,0,.45)}
    .hero-sub{font-size:clamp(16px,2vw,20px); opacity:.95; max-width:70ch; text-shadow:0 2px 12px rgba(0,0,0,.35)}
    .hero-cta{display:flex; gap:12px; margin-top:18px}
    .btn{padding:12px 16px;border-radius:999px;border:1px solid var(--line);background:#fff;color:#0f172a;font-weight:700;cursor:pointer}
    .btn.soft{background:rgba(255,255,255,.16); color:#fff; border:1px solid rgba(255,255,255,.35)}
    .btn.soft:hover{background:rgba(255,255,255,.22)}

    /* SECTIONS */
    section{padding:var(--g7) 0}
    .section-title{display:flex;flex-direction:column;align-items:center;gap:8px;margin-bottom:var(--g5)}
    .section-heading{
      font-size:clamp(26px,3.2vw,40px);
      font-weight:800; line-height:1.15; margin:0; letter-spacing:.2px;
      background:linear-gradient(90deg,#6ea8ff,#6366f1);
      -webkit-background-clip:text;background-clip:text;color:transparent; text-align:center;
    }
    .section-sub{ text-align:center; color:#667085; margin-top:10px; font-size:clamp(14px,1.8vw,18px) }

    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:var(--g4)}
    .grid.two{grid-template-columns:repeat(2,minmax(260px,1fr))}

    /* Generic card */
    .card{border:1px solid var(--line);background:#fff;border-radius:16px;padding:var(--g4);transition:transform .2s ease,box-shadow .2s ease}
    .card:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
    .card h3{margin:0 0 var(--g2);font-size:20px;font-weight:600}
    .card p{margin:0;color:#334155;line-height:1.65}

    /* Services — ikon arxa fonu yoxdur */
    #services .grid{gap:var(--g6)}
    #services .card.service{border:none;background:transparent;box-shadow:none;padding:0}
    .service{display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px}
    .service .icon{width:auto;height:auto;display:grid;place-items:center;background:transparent;box-shadow:none;border:0;border-radius:0}
    .service .icon img{width:40px;height:40px;display:block}
    .service h3{margin:6px 0 0;font-size:22px;font-weight:600}
    .service p{margin-top:6px;max-width:52ch;color:#475569;font-size:15px}

    /* About (frameless text) */
    #about .about-text{border:none;background:transparent;box-shadow:none;padding:0;max-width:900px;margin:0 auto}
    #about .about-text p{margin:0 0 12px;color:#334155;line-height:1.75}

    /* Contact – YAN-YANA düzülüş + ikonlar */
    .contact-plain{display:flex;justify-content:center}
    .contact-plain ul{
      list-style:none;margin:0;padding:0;
      display:flex; flex-wrap:wrap; gap:20px; align-items:center; justify-content:center;
      font-size:clamp(18px,2.2vw,22px)
    }
    .contact-plain li{display:flex}
    .contact-plain a{
      display:flex; align-items:center; gap:10px;
      font-weight:600; color:#0f172a; text-decoration:none
    }
    .contact-plain a:hover{text-decoration:underline}
    .contact-icon{width:28px;height:28px;color:#2563eb;flex:0 0 28px}

    footer{padding:26px 0;border-top:1px solid var(--line);color:#64748b}

    @media (max-width:900px){ .grid.two{grid-template-columns:1fr} }
    @media (max-width:720px){
      .hero-visual .inner{margin-left: var(--g3); max-width:none}
      .hero-title{font-size:clamp(28px,8vw,44px)}
      .brand img.logo1-img{height:36px}
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <header>
    <div class="container nav">
      <a href="#top" class="brand" aria-label="GeoSolver home">
        <img class="logo1-img" src="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/logo1.png" alt="GeoSolver logo1" loading="eager" fetchpriority="high"/>
      </a>
      <nav aria-label="primary">
        <ul>
          <li><a class="active" href="#top" data-nav="top"    data-i18n="nav_home">Əsas səhifə</a></li>
          <li><a href="#services"          data-nav="services" data-i18n="nav_services">Xidmətlər</a></li>
          <li><a href="#training"          data-nav="training" data-i18n="nav_training">Təlimlər</a></li>
          <li><a href="#about"             data-nav="about"    data-i18n="nav_about">Haqqımızda</a></li>
          <li><a href="#contact"           data-nav="contact"  data-i18n="nav_contact">Əlaqə</a></li>
        </ul>
      </nav>
      <div class="lang" role="group" aria-label="Language switcher">
        <button type="button" class="active" onclick="setLang('az')">AZE</button>
        <button type="button" onclick="setLang('en')">ENG</button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <div id="top" class="hero-visual">
    <div class="inner">
      <h1 class="hero-title" data-i18n="hero_title">Coğrafi məlumatlarınızı GIS və GeoAI ilə daha güclü idarə edin</h1>
      <p class="hero-sub" data-i18n="hero_sub">CİS texnologiyaları və süni intellektlə yüksək performanslı xidmətlər.</p>
      <div class="hero-cta">
        <a class="btn soft" href="#services" data-i18n="cta_view">Xidmətlərə bax</a>
      </div>
    </div>
  </div>

  <main class="container">
    <!-- SERVICES -->
    <section id="services">
      <div class="section-title">
        <h2 class="section-heading" data-i18n="services_title_colored">Xidmətlərimiz</h2>
        <p class="section-sub" data-i18n="services_sub">Tam əhatəli olaraq göstərdiyimiz xidmətlər</p>
      </div>

      <div class="grid two">
        <article class="card service">
          <div class="icon">
            <img src="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/icons/compass.svg" alt="Consultancy icon">
          </div>
          <h3 data-i18n="srv_consult_t">CİS və İT Konsaltinqi</h3>
          <p data-i18n="srv_consult_d">Proseslərinizi həm xəritə, həm də İT baxımından sadələşdirib dəyər qatırıq. Biznes məqsədlərinizi dəqiqləşdirir, mövcud sistemi audit edir, uyğun arxitektura alternativlərini müqayisə edir və aydın, mərhələli yol xəritəsi hazırlayırıq.</p>
        </article>

        <article class="card service">
          <div class="icon">
            <img src="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/icons/monitor-smartphone.svg" alt="Web & Mobile GIS icon">
          </div>
          <h3 data-i18n="srv1_t">Veb & Mobil CİS Tətbiqlərinin Hazırlanması</h3>
          <p data-i18n="srv1_d">Planı siz deyin, xəritəni biz canlandıraq. İstəyə uyğun veb və mobil CİS tətbiqləri — təmiz interfeys, sürətli xəritələr, ağıllı filtr və rahat hesabatlarla.</p>
        </article>

        <article class="card service">
          <div class="icon">
            <img src="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/icons/brain-circuit.svg" alt="GeoAI icon">
          </div>
          <h3 data-i18n="srv4_t">GeoAI</h3>
          <p data-i18n="srv4_d">Peyk/ortofoto/dron təsvirlərini dərin öyrənmə ilə emal edib xəritələr üçün vektor qatlar və analitik nəticələr yaradırıq.</p>
        </article>

        <article class="card service">
          <div class="icon">
            <img src="https://raw.githubusercontent.com/officegeosolver/geosolver-website/main/assets/icons/database.svg" alt="GIS servers icon">
          </div>
          <h3 data-i18n="srv_gis_servers_t">CİS serverlərinin qurulması</h3>
          <p data-i18n="srv_gis_servers_d">On-prem və ya bulud yerləşdirmə, tələbin hesablanması və sabit/sürətli xəritə servislərinin qurulması.</p>
        </article>
      </div>
    </section>

    <!-- TRAINING -->
    <section id="training">
      <div class="section-title">
        <h2 class="section-heading" data-i18n="training_title_colored">Təlimlər</h2>
        <p class="section-sub" data-i18n="training_sub">Praktiki proqramlar və bootcamp-lər</p>
      </div>

      <div class="grid two">
        <article class="plain">
          <h3 data-i18n="tr_ent_t">ArcGIS Enterprise təlimi</h3>
          <p data-i18n="tr_ent_d">Enterprise platformasının imkanlarını praktik şəkildə mənimsəyin: təhlükəsiz paylaşım, app/service ekspozu, icazə idarəetməsi və s.</p>
        </article>

        <article class="plain">
          <h3 data-i18n="tr_online_t">ArcGIS Online</h3>
          <p data-i18n="tr_online_d">Orq-a məzmun dərc etmə, veb xəritə və tətbiq hazırlama, əsas admin tapşırıqlar.</p>
        </article>

        <article class="plain">
          <h3 data-i18n="tr_gs_t">GeoServer</h3>
          <p data-i18n="tr_gs_d">Açıq mənbəli GeoServer ilə verilənlərinizi veb xidməti kimi dərc etmə əsasları və layihə qurulması.</p>
        </article>

        <article class="plain">
          <h3 data-i18n="tr_geoai_t">GeoAI</h3>
          <p data-i18n="tr_geoai_d">Klasterləşdirmə, proqnoz və təsvirlərdən məlumat çıxarılması üçün GeoAI iş axınları.</p>
        </article>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="about">
      <div class="section-title">
        <h2 class="section-heading" data-i18n="about_title_colored">GeoSolver haqqında</h2>
        <p class="section-sub" data-i18n="about_sub">Məkan məlumatlarını dəyərə çevirən komanda</p>
      </div>

      <!-- Default AZ mətn; dil dəyişəndə STR ilə əvəz olunacaq -->
      <div class="about-text" data-i18n-html="about_long_1">
        <p><strong>GeoSolver</strong> CİS, veb/xəritə tətbiqləri və AI əsaslı məkan analitikası üzrə ixtisaslaşmış komandadır.</p>
        <p>Məqsədimiz güclü arxitektura və ağıllı modellərlə geoverilənləri real biznes dəyərinə çevirməkdir.</p>
        <p>Həm open-source, həm də Esri stack-ində dayanıqlı serverlər və yüksək keyfiyyətli datasetlər qururuq, üstündə performant tətbiqlər hazırlayırıq.</p>
        <p>Bulud və DevOps praktikaları (Docker/Kubernetes, CI/CD, observability) ilə həllərin etibarlı və miqyaslana bilən işləməsini təmin edirik.</p>
        <p>Komandalar üçün praktiki təlimlər və konsaltinq təqdim edir, istismar mərhələsində SLA dəstəyi veririk.</p>
        <p>Azərbaycan və Cənubi Qafqazda, eləcə də uzaqdan beynəlxalq layihələrdə etibarlı tərəfdaş olmağı hədəfləyirik.</p>
      </div>
    </section>

    <!-- CONTACT (YAN-YANA) -->
    <section id="contact" class="contact">
      <div class="section-title">
        <h2 class="section-heading" data-i18n="contact_title_colored">Əlaqə</h2>
      </div>
      <div class="contact-plain">
        <ul>
          <li>
            <a href="tel:+994553167804">
              <svg class="contact-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.86 19.86 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6.49-6.49A19.86 19.86 0 0 1 1.08 4.18 2 2 0 0 1 3.05 2h3a2 2 0 0 1 2 1.72c.12.86.3 1.68.54 2.46a2 2 0 0 1-.45 2.11L7.87 9.56a16 16 0 0 0 6.57 6.57l1.27-1.27a2 2 0 0 1 2.11-.45c.78.24 1.6.42 2.46.54A2 2 0 0 1 22 16.92z"/>
              </svg>
              <span>+994 (55) 316 78 04</span>
            </a>
          </li>
          <li>
            <a href="mailto:officegeosolver@gmail.com">
              <svg class="contact-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect>
                <path d="M22 6 12 13 2 6"></path>
              </svg>
              <span>officegeosolver@gmail.com</span>
            </a>
          </li>
        </ul>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <p>© <span id="year"></span> GeoSolver. <span data-i18n="rights">Bütün hüquqlar qorunur.</span></p>
      <div style="display:flex;gap:12px">
        <a href="#" aria-label="LinkedIn">LinkedIn</a>
        <a href="#" aria-label="GitHub">GitHub</a>
        <a href="#" aria-label="Email">Email</a>
      </div>
    </div>
  </footer>

  <!-- LANGUAGE & NAV -->
  <script>
    const STR = {
      az:{
        nav_home:"Əsas səhifə",
        nav_services:"Xidmətlər", nav_about:"Haqqımızda", nav_contact:"Əlaqə", nav_training:"Təlimlər",
        hero_title:"Coğrafi məlumatlarınızı GIS və GeoAI ilə daha güclü idarə edin",
        hero_sub:"CİS texnologiyaları və süni intellektlə yüksək performanslı xidmətlər.",
        cta_view:"Xidmətlərə bax",
        services_title_colored:"Xidmətlərimiz", services_sub:"Tam əhatəli olaraq göstərdiyimiz xidmətlər",
        srv_consult_t:"CİS və İT Konsaltinqi",
        srv_consult_d:"Proseslərinizi həm xəritə, həm də İT baxımından sadələşdirib dəyər qatırıq. Biznes məqsədlərinizi dəqiqləşdirir, mövcud sistemi audit edir, uyğun arxitektura alternativlərini müqayisə edir və aydın, mərhələli yol xəritəsi hazırlayırıq.",
        srv1_t:"Veb & Mobil CİS Tətbiqlərinin Hazırlanması",
        srv1_d:"Planı siz deyin, xəritəni biz canlandıraq. İstəyə uyğun veb və mobil CİS tətbiqləri — təmiz interfeys, sürətli xəritələr, ağıllı filtr və rahat hesabatlarla.",
        srv4_t:"GeoAI",
        srv4_d:"Peyk/ortofoto/dron təsvirlərini dərin öyrənmə ilə emal edib xəritələr üçün vektor qatlar və analitik nəticələr yaradırıq.",
        srv_gis_servers_t:"CİS serverlərinin qurulması",
        srv_gis_servers_d:"On-prem və ya bulud yerləşdirmə, tələbin hesablanması və sabit/sürətli xəritə servislərinin qurulması.",
        training_title_colored:"Təlimlər", training_sub:"Praktiki proqramlar və bootcamp-lər",
        tr_ent_t:"ArcGIS Enterprise təlimi", tr_ent_d:"Enterprise platformasını praktik şəkildə mənimsəyin.",
        tr_online_t:"ArcGIS Online", tr_online_d:"Məzmun dərc etmə, veb xəritə və tətbiq hazırlama.",
        tr_gs_t:"GeoServer", tr_gs_d:"GeoServer ilə veb xidmət kimi dərc etmə əsasları.",
        tr_geoai_t:"GeoAI", tr_geoai_d:"Klasterləşdirmə, proqnoz və təsvirlərdən çıxarış iş axınları.",
        about_title_colored:"GeoSolver haqqında", about_sub:"Məkan məlumatlarını dəyərə çevirən komanda",
        about_long_1: `
          <p><strong>GeoSolver</strong> CİS, veb/xəritə tətbiqləri və AI əsaslı məkan analitikası üzrə ixtisaslaşmış komandadır.</p>
          <p>Məqsədimiz güclü arxitektura və ağıllı modellərlə geoverilənləri real biznes dəyərinə çevirməkdir.</p>
          <p>Həm open-source, həm də Esri ekosistemində dayanıqlı serverlər və keyfiyyətli datasetlər qurur, üstündə performant tətbiqlər hazırlayırıq.</p>
          <p>Bulud və DevOps praktikaları (Docker/Kubernetes, CI/CD, observability) ilə həlllərin etibarlı və miqyaslana bilən işləməsini təmin edirik.</p>
          <p>Komandalar üçün praktiki təlimlər və konsaltinq təqdim edir, istismar dönəmində SLA dəstəyi göstəririk.</p>
          <p>Azərbaycan və Cənubi Qafqazda, eləcə də uzaqdan beynəlxalq layihələrdə etibarlı tərəfdaş olmağı hədəfləyirik.</p>
        `,
        contact_title_colored:"Əlaqə",
        rights:"Bütün hüquqlar qorunur."
      },
      en:{
        nav_home:"Home",
        nav_services:"Services", nav_about:"About", nav_contact:"Contact", nav_training:"Training",
        hero_title:"Manage your geospatial data more powerfully with GIS & GeoAI",
        hero_sub:"High-performance services with GIS technologies and AI.",
        cta_view:"See services",
        services_title_colored:"Our Services", services_sub:"A comprehensive set of services we provide",
        srv_consult_t:"GIS & IT Consultancy",
        srv_consult_d:"We clarify goals, audit systems, compare architectures and deliver a clear roadmap.",
        srv1_t:"Web & Mobile GIS Application Development",
        srv1_d:"Tailored web & mobile GIS with clean UI, fast maps, smart filters and easy reporting.",
        srv4_t:"GeoAI",
        srv4_d:"DL-powered extraction from satellite/ortho/UAV imagery into vectors & analytics.",
        srv_gis_servers_t:"GIS Server Deployment",
        srv_gis_servers_d:"On-prem or cloud setups engineered for speed and reliability.",
        training_title_colored:"Training", training_sub:"Hands-on programs and bootcamps",
        tr_ent_t:"ArcGIS Enterprise", tr_ent_d:"Adopt the platform’s core capabilities.",
        tr_online_t:"ArcGIS Online", tr_online_d:"Publish, build web maps/apps, administer essentials.",
        tr_gs_t:"GeoServer", tr_gs_d:"Basics of publishing geodata as web services.",
        tr_geoai_t:"GeoAI", tr_geoai_d:"Workflows for clustering, prediction and imagery extraction.",
        about_title_colored:"About GeoSolver", about_sub:"A team turning geospatial data into value",
        about_long_1: `
          <p><strong>GeoSolver</strong> specializes in GIS, web/map applications and AI-driven geospatial analytics.</p>
          <p>We transform geodata into business value with robust architecture and intelligent models.</p>
          <p>We build resilient servers and high-quality datasets on open-source and Esri stacks, then deliver high-performance apps on top.</p>
          <p>With cloud & DevOps (Docker/Kubernetes, CI/CD, observability), we ensure reliability and scale.</p>
          <p>We provide hands-on training and consultancy, plus SLA-backed support in operations.</p>
          <p>We aim to be a trusted partner in Azerbaijan, the South Caucasus and remote international projects.</p>
        `,
        contact_title_colored:"Contact",
        rights:"All rights reserved."
      }
    };

    function setLang(lang){
      const d = STR[lang] || STR.az;
      document.documentElement.lang = lang;
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const k = el.getAttribute('data-i18n'); if(d[k]!=null) el.textContent = d[k];
      });
      document.querySelectorAll('[data-i18n-ph]').forEach(el=>{
        const k = el.getAttribute('data-i18n-ph'); if(d[k]!=null) el.placeholder = d[k];
      });
      document.querySelectorAll('[data-i18n-html]').forEach(el=>{
        const k = el.getAttribute('data-i18n-html'); if(d[k]!=null) el.innerHTML = d[k];
      });
      document.querySelectorAll('.lang button').forEach(b=>{
        b.classList.toggle('active', b.textContent.trim().toLowerCase().includes(lang==='az'?'aze':'eng'));
      });
    }

    document.getElementById('year').textContent = new Date().getFullYear();
    setLang('az');

    // NAV aktivləşdirmə
    const sectionIds = ['top','services','training','about','contact'];
    const sections = sectionIds.map(id => document.getElementById(id)).filter(Boolean);
    const navLinks = new Map(
      [...document.querySelectorAll('nav a[data-nav]')].map(a => [a.getAttribute('data-nav'), a])
    );

    function setActive(id){
      navLinks.forEach(a => a.classList.remove('active'));
      const link = navLinks.get(id);
      if (link) link.classList.add('active');
    }

    function setActiveByScroll(){
      const y = window.scrollY + window.innerHeight * 0.35;
      let current = 'top';
      for (const sec of sections){
        const top = sec.offsetTop;
        const bottom = top + sec.offsetHeight;
        if (y >= top && y < bottom){ current = sec.id; break; }
      }
      setActive(current);
    }

    const observer = new IntersectionObserver((entries) => {
      let best = null;
      for (const ent of entries){
        if (!ent.isIntersecting) continue;
        if (!best || ent.intersectionRatio > best.intersectionRatio) best = ent;
      }
      if (best) setActive(best.target.id);
    }, { threshold: [0.55], rootMargin: '0px 0px -10% 0px' });

    sections.forEach(sec => observer.observe(sec));
    window.addEventListener('load', setActiveByScroll);
    window.addEventListener('hashchange', setActiveByScroll);
  </script>
</body>
</html>
